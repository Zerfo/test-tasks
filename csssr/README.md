## Тестовое задание CSSSR (React)

#### Задание:

Slomux — упрощённая, сломанная реализация Flux.
Перед вами небольшое приложение, написанное на React + Slomux.

Это нерабочий секундомер с настройкой интервала обновления.

Исправьте ошибки и потенциально проблемный код, почините приложение и прокомментируйте своё решение.

При нажатии на "старт" должен запускаться секундомер и через заданный интервал времени увеличивать свое значение на значение интервала.
При нажатии на "стоп" секундомер должен останавливаться и сбрасывать свое значение.

#### Решение:

Ветка master - решение задания с комментариями.

Решение на [codepen.io](https://codepen.io/zerfo/pen/MdZYbN) - https://codepen.io/zerfo/pen/MdZYbN

#### Комментарии

1. Не объявлена и не передана вторым параметром переменная "initialState" в функции createStore;
2. Функция connect первым параметром принимает mapStateToProps, а в компоненте Interval в нее первым параметром передается mapDispatchToProps;
3. При неподхъождении ниодного из action в reducer'e возвращается пустой объект, лучще возвращать текущее состояние store;
4. В HOC connect лучше использовать setState({}) вместо forceUpdate. Это дает возможность для дальнейшей оптимизации, когда повторный рендеринг не нужен. Так же в connect стоит проверять, что mapStateToProps и mapDispatchToProps являются функциями;
5. Ошибка в строке использовании store.subscribe(...). Компонент подписывается на обновления, но не отписывается от них. Необходимо сохранять результат вызова store.subscribe(...) и вызов этой функции в componentWillUnmount (для отписки от обновлений);
6. Функция dispatch не возвращает action после своего выполнения;
7. Функция subscribe не возвращает функцию отписки;
8. В компоненте Timer для старта секундомера стоит использовать setInterval. В функции handleStop, для остановки таймера, стоит не только очищать state компонента, но и остановиться выполнение setInterval с помощью clearInterval. Т.к. Вторым параметром setInterval принимает задержку в миллисекундах, необходимо currentInterval умножать на 1000;
9. Функции handleStart и handleStop лучше описывать стрелочными функциями, ту к них нет своего контекста и тогда нам не придется биндить их в конструкторе для корректной работы;
